---
title: "Spotify Music Analysis"
subtitle: "Preliminary Exploratory Data Analysis"
author: "Cohen Gress"
date: "04/06/2025"
output: 
  html_notebook:
    fig_height: 7
    fig_width: 10
---

## What key audio features distinguish high popularity songs from low popularity songs on Spotify?

### About the datasets:


#### High Popularity Spotify Songs

What: Data on songs with high popularity scores on Spotify, including audio features, track metadata, and Spotify-calculated metrics.

Who: Compiled via Spotify’s API by an independent data contributor (uploaded to Kaggle).

When: Covers a wide range of song releases (across decades), with streaming popularity measured in 2023.

Where: Songs from Spotify’s global platform. No geographic filter, includes tracks from multiple countries/artists.

Why: Created to analyze characteristics that may contribute to song popularity, offering insight into what makes a hit song successful on Spotify.

#### Low Popularity Spotify Songs

What: Data on songs with low popularity scores on Spotify, featuring the same variables as the high popularity set.

Who: Gathered through the same API or process.

When: Contains songs released in similar timeframes, likely focusing on the same general time window.

Where: Global Spotify catalog, which includes lesser-known or under-streamed tracks.

Why: Used to compare and contrast with high popularity songs to understand what features are missing or different in songs that don’t perform well.

```{r}

rm(list = ls())

library(tidyverse)
library(lubridate)
library(ggplot2)
library(readr)
```

```{r}
# Load high and low popularity datasets
high_pop <- read_csv("high_popularity_spotify_data.csv")
low_pop <- read_csv("low_popularity_spotify_data.csv")

# Add label for group
high_pop <- high_pop %>% mutate(pop_group = "High")
low_pop <- low_pop %>% mutate(pop_group = "Low")

# Combine both datasets
spotify_combined <- bind_rows(high_pop, low_pop)

# Check the structure
str(spotify_combined)
```

```{r}
# Preview high popularity dataset
head(high_pop)

# Preview low popularity dataset
head(low_pop)

```


```{r}
spotify_combined %>%
  group_by(pop_group) %>%
  summarise(across(c(danceability, energy, valence, tempo, acousticness), list(mean = mean, sd = sd), na.rm = TRUE))

```

```{r}
ggplot(spotify_combined, aes(x = pop_group, y = energy, fill = pop_group)) +
  geom_boxplot() +
  scale_fill_manual(values = c("High" = "#1DB954", "Low" = "#1DB954")) +
  labs(title = "Energy Distribution by Popularity Group", x = "Popularity Group", y = "Energy") +
  theme_minimal() +
  theme(
    plot.background = element_rect(fill = "#191414", color = NA),
    panel.background = element_rect(fill = "#191414"),
    legend.position = "none",
    text = element_text(color = "white"),
    axis.text = element_text(color = "white"),
    axis.title = element_text(color = "white"),
    plot.title = element_text(color = "#1DB954", face = "bold")
  )

ggplot(spotify_combined, aes(x = pop_group, y = danceability, fill = pop_group)) +
  geom_boxplot() +
  scale_fill_manual(values = c("High" = "#1DB954", "Low" = "#1DB954")) +
  labs(title = "Danceability Distribution by Popularity Group", x = "Popularity Group", y = "Danceability") +
  theme_minimal() +
  theme(
    plot.background = element_rect(fill = "#191414", color = NA),
    panel.background = element_rect(fill = "#191414"),
    legend.position = "none",
    text = element_text(color = "white"),
    axis.text = element_text(color = "white"),
    axis.title = element_text(color = "white"),
    plot.title = element_text(color = "#1DB954", face = "bold")
  )

```

```{r}
ggplot(spotify_combined, aes(x = valence, fill = pop_group)) +
  geom_density(alpha = 0.6) +
  scale_fill_manual(values = c("High" = "#1DB954", "Low" = "white")) +
  labs(title = "Valence Distribution for High vs Low Popularity Songs",
       x = "Valence", y = "Density") +
  theme_minimal() +
  theme(
    plot.background = element_rect(fill = "#191414", color = NA),
    panel.background = element_rect(fill = "#191414"),
    legend.background = element_rect(fill = "#191414"),
    legend.key = element_rect(fill = "white"),
    legend.title = element_blank(),
    legend.text = element_text(color = "white"),
    text = element_text(color = "white"),
    axis.text = element_text(color = "white"),
    axis.title = element_text(color = "white"),
    plot.title = element_text(color = "#1DB954", face = "bold")
  )
```

#### High popularity songs tend to have higher energy and danceability on average.

#### Low popularity songs show more spread in acousticness and valence, possibly reflecting niche or less mainstream sounds.

#### These differences highlight how audio characteristics align with mass appeal on Spotify.


